### TCP/IP 的三次握手和四次挥手

#### TCP/IP 协议通讯过程

TCP/IP 协议三次握手建立连接过程：
第一次握手：客户端发出一个SYN=1的连接请求信号：“服务端你好，我想跟你说说话”
第二次握手：服务端接收到请求，回复一个确认信息（SYN + ACK）：“请求收到，我现在已经做好准备了”
第三次握手：客户端收到服务端的确认信息后，礼貌性地回复一下（ACK）：“哦哦，那我们开始吧”

TCP/IP 协议四次挥手断开连接过程：
第一次挥手：双方交互得差不多了，客户端想要断开连接：“我话说完了（FIN）”
第二次挥手：服务端知道客户端无话可说了，但还有几句心里话想说：“我知道你话完了（ACK），但我还想要补充几句，吧啦吧啦……”
第三次挥手：此时客户端洗耳恭听继续处于等待结束的状态，服务端也说完了，自身此时处于等待关闭连接的状态，所以告诉客户端：“我话也说完了，咱们断开吧（FIN）”
第四次挥手：客户端收到服务端也无话可说的信息，礼貌性地回复一下（ACK）：“哦哦，那我们断开吧”（这里客户端会为自己定义一个定时器，超过时间则默认服务端已经断开了）

* PS：客户端和服务端没有固定的一方，谁先发起建立/断开连接的请求，谁就为客户端端

![1557477025948](D:\GitBook\About_Java\JavaWeb开发\assets\1557477025948.png)

