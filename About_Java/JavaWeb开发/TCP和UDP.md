# TCP vs UDP

> 本篇笔记部分参考自博客：[《网络编程》广播和多播](https://blog.csdn.net/chenhanzhun/article/details/42006385)

### 一、TCP

#### 1.1 TCP 优点

可靠，稳定。

TCP 的可靠性体现在 TCP 在传递数据之前，会有三次握手来建立连接，而且在数据传递时，有确认、窗口、重传、拥塞控制机制，在数据传完后，还会断开连接用来节约系统资源。

#### 1.2 TCP 缺点

慢，效率低，占用系统资源高，易被攻击。

TCP 在传递数据之前，要先建连接，这会消耗时间，而且在数据传递时，确认机制、重传机制、拥塞控制机制等都会消耗大量的时间，而且要在每台设备上维护所有的传输连接，事实上，每个连接都会占用系统的 CPU、内存等硬件资源。 而且，因为 TCP 有确认机制、三次握手机制，这些也导致 TCP 容易被人利用，实现 DOS、DDOS、CC 等攻击。

### 二、UDP

#### 2.1 UDP 优点

快，比TCP稍安全。

UDP 没有 TCP 的握手、确认、窗口、重传、拥塞控制等机制，UDP 是一个无状态的传输协议，所以它在传递数据时非常快。没有 TCP 的这些机制，UDP 较 TCP 被攻击者利用的漏洞就要少一些。但 UDP 也是无法避免攻击的，比如：UDP Flood 攻击……

#### 2.2 UDP 缺点

不可靠，不稳定。

因为 UDP 没有 TCP 那些可靠的机制，在数据传递时，如果网络质量不好，就会很容易丢包。

### 三、TCP vs UDP

1. TCP 面向连接（如打电话要先拨号建立连接）；UDP 面向非连接，即发送数据之前不需要建立连接
2. TCP 要求系统资源较多；UCP 较少
3. TCP 提供可靠的服务。也就是说，通过 TCP 连接传送的数据，`无差错`，`不丢失`，`不重复`，且`按序到达`；UDP 只能尽最大努力交付，即`不保证可靠交付`
4. TCP 的可靠连接主要用于传输少量验证性数据；UDP 则主要应用在对网络通讯质量要求不高，并且要求网络通讯速度能尽量快的时候（每一条 TCP 连接只能是`点到点`的；UDP 支持`n对n`的交互通信）
5. TCP 首部开销20字节；UDP 的首部开销小，只有8个字节
6. TCP 的逻辑通信信道是全双工的可靠信道；UDP 则是不可靠信道

### 四、UDP 内容拓展

主机可采用的通信方式有如下三种：

1. 单播：单台主机与单台主机之间的数据通信

2. 广播：单台主机向网络中所有主机发送数据报的过程

3. 多播：单台主机向选定的一组主机发送数据报的过程

   *（与广播和单播不同的是，要实现组播需要在接受组播的客户机上安装相应的客户端程序）*

   *（广播的缺点是网络中的所有主机都必须处理数据报，而多播不需要，减少了网络流量）*